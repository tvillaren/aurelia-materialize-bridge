{"version":3,"sources":["collapsible/collapsible.js"],"names":["bindable","customAttribute","inject","getBooleanFromAttributeValue","AttributeManager","MdCollapsible","name","defaultValue","Element","element","attributeManager","attached","addClasses","popout","refresh","detached","removeClasses","removeAttributes","$","collapsible","accordion","dataCollapsibleAttributeValue","addAttributes","onOpen","buildCollapsibleOpenCloseCallbackHandler","onClose","accordionChanged","handler","targetElementJquery","targetElement","open","index","close"],"mappings":";;;;;;;;;;;;;AAASA,c,sBAAAA,Q;AAAUC,qB,sBAAAA,e;;AACVC,Y,+BAAAA,M;;AACAC,kC,qBAAAA,4B;;AACAC,sB,2BAAAA,gB;;;+BAQIC,a,WANZJ,gBAAgB,gBAAhB,C,UACAD,SAAS,EAAEM,MAAM,WAAR,EAAqBC,cAAc,KAAnC,EAAT,C,UACAP,SAAS,EAAEM,MAAM,QAAR,EAAkBC,cAAc,KAAhC,EAAT,C,UACAP,SAAS,EAAEM,MAAM,QAAR,EAAT,C,UACAN,SAAS,EAAEM,MAAM,SAAR,EAAT,C,UACAJ,OAAOM,OAAP,C;AAEC,+BAAYC,OAAZ,EAAqB;AAAA;;AACnB,eAAKA,OAAL,GAAeA,OAAf;AACA,eAAKC,gBAAL,GAAwB,IAAIN,gBAAJ,CAAqB,KAAKK,OAA1B,CAAxB;AACD;;gCAEDE,Q,uBAAW;AACT,eAAKD,gBAAL,CAAsBE,UAAtB,CAAiC,aAAjC;AACA,cAAIT,6BAA6B,KAAKU,MAAlC,CAAJ,EAA+C;AAC7C,iBAAKH,gBAAL,CAAsBE,UAAtB,CAAiC,QAAjC;AACD;AACD,eAAKE,OAAL;AACD,S;;gCAEDC,Q,uBAAW;AACT,eAAKL,gBAAL,CAAsBM,aAAtB,CAAoC,CAAC,aAAD,EAAgB,QAAhB,CAApC;AACA,eAAKN,gBAAL,CAAsBO,gBAAtB,CAAuC,CAAC,kBAAD,CAAvC;AACAC,YAAE,KAAKT,OAAP,EAAgBU,WAAhB,CAA4B,SAA5B;AACD,S;;gCAEDL,O,sBAAU;AACR,cAAIM,YAAYjB,6BAA6B,KAAKiB,SAAlC,CAAhB;AACA,cAAIC,gCAAgCD,YAAY,WAAZ,GAA0B,YAA9D;;AAEA,eAAKV,gBAAL,CAAsBY,aAAtB,CAAoC,EAAE,oBAAoBD,6BAAtB,EAApC;;AAEAH,YAAE,KAAKT,OAAP,EAAgBU,WAAhB,CAA4B;AAC1BC,gCAD0B;AAE1BG,oBAAQ,KAAKC,wCAAL,CAA8C,KAAKD,MAAnD,CAFkB;AAG1BE,qBAAS,KAAKD,wCAAL,CAA8C,KAAKC,OAAnD;AAHiB,WAA5B;AAKD,S;;gCAEDC,gB,+BAAmB;AACjB,eAAKZ,OAAL;AACD,S;;gCAEDU,wC,qDAAyCG,O,EAAS;AAChD,iBAAO,OAAOA,OAAP,KAAoB,UAApB,GACN,UAACC,mBAAD,EAAyB;AACvB,gBAAIC,gBAAgBD,oBAAoB,CAApB,CAApB;;AAEAD,oBAAQE,aAAR;AACD,WALK,GAKF,IALL;AAMD,S;;gCAEDC,I,mBAAgB;AAAA,cAAXC,KAAW,uEAAH,CAAG;;AACdb,YAAE,KAAKT,OAAP,EAAgBU,WAAhB,CAA4B,MAA5B,EAAoCY,KAApC;AACD,S;;gCAEDC,K,oBAAiB;AAAA,cAAXD,KAAW,uEAAH,CAAG;;AACfb,YAAE,KAAKT,OAAP,EAAgBU,WAAhB,CAA4B,OAA5B,EAAqCY,KAArC;AACD,S","file":"../../../collapsible/collapsible.js","sourcesContent":["import { bindable, customAttribute } from 'aurelia-templating';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\nimport { AttributeManager } from '../common/attributeManager';\r\n\r\n@customAttribute('md-collapsible')\r\n@bindable({ name: 'accordion', defaultValue: false })\r\n@bindable({ name: 'popout', defaultValue: false })\r\n@bindable({ name: 'onOpen' })\r\n@bindable({ name: 'onClose' })\r\n@inject(Element)\r\nexport class MdCollapsible {\r\n  constructor(element) {\r\n    this.element = element;\r\n    this.attributeManager = new AttributeManager(this.element);\r\n  }\r\n\r\n  attached() {\r\n    this.attributeManager.addClasses('collapsible');\r\n    if (getBooleanFromAttributeValue(this.popout)) {\r\n      this.attributeManager.addClasses('popout');\r\n    }\r\n    this.refresh();\r\n  }\r\n\r\n  detached() {\r\n    this.attributeManager.removeClasses(['collapsible', 'popout']);\r\n    this.attributeManager.removeAttributes(['data-collapsible']);\r\n    $(this.element).collapsible('destroy');\r\n  }\r\n\r\n  refresh() {\r\n    let accordion = getBooleanFromAttributeValue(this.accordion);\r\n    let dataCollapsibleAttributeValue = accordion ? 'accordion' : 'expandable';\r\n\r\n    this.attributeManager.addAttributes({ 'data-collapsible': dataCollapsibleAttributeValue });\r\n\r\n    $(this.element).collapsible({\r\n      accordion,\r\n      onOpen: this.buildCollapsibleOpenCloseCallbackHandler(this.onOpen),\r\n      onClose: this.buildCollapsibleOpenCloseCallbackHandler(this.onClose)\r\n    });\r\n  }\r\n\r\n  accordionChanged() {\r\n    this.refresh();\r\n  }\r\n\r\n  buildCollapsibleOpenCloseCallbackHandler(handler) {\r\n    return typeof(handler) === 'function' ?\r\n     (targetElementJquery) => {\r\n       let targetElement = targetElementJquery[0];\r\n\r\n       handler(targetElement);\r\n     } : null;\r\n  }\r\n\r\n  open(index = 0) {\r\n    $(this.element).collapsible('open', index);\r\n  }\r\n\r\n  close(index = 0) {\r\n    $(this.element).collapsible('close', index);\r\n  }\r\n}\r\n"]}