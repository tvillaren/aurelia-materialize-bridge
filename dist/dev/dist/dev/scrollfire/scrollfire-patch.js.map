{"version":3,"sources":["scrollfire/scrollfire-patch.js"],"names":["ScrollfirePatch","patch","patched","window","Materialize","scrollFire","options","didScroll","addEventListener","setInterval","windowScroll","pageYOffset","innerHeight","i","length","value","selector","offset","callback","currentElement","document","querySelector","elementOffset","getBoundingClientRect","top","done","callbackFunc","Function"],"mappings":";;;;;;;;;;;;;;iCACaA,e;;;;;kCAGXC,K,oBAAQ;AACN,cAAI,CAACD,gBAAgBE,OAArB,EAA8B;AAC5BF,4BAAgBE,OAAhB,GAA0B,IAA1B;;AAEAC,mBAAOC,WAAP,CAAmBC,UAAnB,GAAgC,UAASC,OAAT,EAAkB;AAChD,kBAAIC,YAAY,KAAhB;AACAJ,qBAAOK,gBAAP,CAAwB,QAAxB,EAAkC,YAAW;AAC3CD,4BAAY,IAAZ;AACD,eAFD;;AAKAE,0BAAY,YAAW;AACrB,oBAAIF,SAAJ,EAAe;AACbA,8BAAY,KAAZ;;AAEA,sBAAIG,eAAeP,OAAOQ,WAAP,GAAqBR,OAAOS,WAA/C;AACA,uBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIP,QAAQQ,MAA5B,EAAoCD,GAApC,EAAyC;AAEvC,wBAAIE,QAAQT,QAAQO,CAAR,CAAZ;AACA,wBAAIG,WAAWD,MAAMC,QAArB;AACA,wBAAIC,SAASF,MAAME,MAAnB;AACA,wBAAIC,WAAWH,MAAMG,QAArB;;AAEA,wBAAIC,iBAAiBC,SAASC,aAAT,CAAuBL,QAAvB,CAArB;AACA,wBAAKG,mBAAmB,IAAxB,EAA8B;AAC5B,0BAAIG,gBAAgBH,eAAeI,qBAAf,GAAuCC,GAAvC,GAA6CrB,OAAOQ,WAAxE;;AAEA,0BAAID,eAAgBY,gBAAgBL,MAApC,EAA6C;AAC3C,4BAAIF,MAAMU,IAAN,KAAe,IAAnB,EAAyB;AACvB,8BAAI,OAAOP,QAAP,KAAqB,QAAzB,EAAmC;AACjC,gCAAIQ,eAAe,IAAIC,QAAJ,CAAaT,QAAb,CAAnB;AACAQ;AACD,2BAHD,MAGO,IAAI,OAAOR,QAAP,KAAqB,UAAzB,EAAqC;AAC1CA;AACD;AACDH,gCAAMU,IAAN,GAAa,IAAb;AACD;AACF;AACF;AACF;AACF;AACF,eA9BD,EA8BG,GA9BH;AA+BD,aAtCD;AAuCD;AACF,S;;;kBA9CMvB,O,GAAU,K","file":"../../../scrollfire/scrollfire-patch.js","sourcesContent":["/* eslint no-new-func:0 */\r\nexport class ScrollfirePatch {\r\n  static patched = false;\r\n\r\n  patch() {\r\n    if (!ScrollfirePatch.patched) {\r\n      ScrollfirePatch.patched = true;\r\n\r\n      window.Materialize.scrollFire = function(options) {\r\n        let didScroll = false;\r\n        window.addEventListener('scroll', function() {\r\n          didScroll = true;\r\n        });\r\n\r\n        // Rate limit to 100ms\r\n        setInterval(function() {\r\n          if (didScroll) {\r\n            didScroll = false;\r\n\r\n            let windowScroll = window.pageYOffset + window.innerHeight;\r\n            for (let i = 0; i < options.length; i++) {\r\n              // Get options from each line\r\n              let value = options[i];\r\n              let selector = value.selector;\r\n              let offset = value.offset;\r\n              let callback = value.callback;\r\n\r\n              let currentElement = document.querySelector(selector);\r\n              if ( currentElement !== null) {\r\n                let elementOffset = currentElement.getBoundingClientRect().top + window.pageYOffset;\r\n\r\n                if (windowScroll > (elementOffset + offset)) {\r\n                  if (value.done !== true) {\r\n                    if (typeof(callback) === 'string') {\r\n                      let callbackFunc = new Function(callback);\r\n                      callbackFunc();\r\n                    } else if (typeof(callback) === 'function') {\r\n                      callback();\r\n                    }\r\n                    value.done = true;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }, 100);\r\n      };\r\n    }\r\n  }\r\n}\r\n"]}