{"version":3,"sources":["pagination/pagination.js"],"names":["bindable","customElement","bindingMode","inject","fireMaterializeEvent","getBooleanFromAttributeValue","MdPagination","Element","defaultBindingMode","twoWay","oneWay","element","numberOfLinks","pages","bind","parseInt","mdPages","Math","min","mdVisiblePageLinks","mdShowFirstLast","mdShowPrevNext","mdPageLinks","generatePageLinks","setActivePage","page","mdActivePage","setFirstPage","setLastPage","setPreviousPage","setNextPage","mdPagesChanged","mdVisiblePageLinksChanged","midPoint","start","max","end","list","i","push"],"mappings":"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","file":"../../../pagination/pagination.js","sourcesContent":["import { bindable, customElement } from 'aurelia-templating';\r\nimport { bindingMode } from 'aurelia-binding';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { fireMaterializeEvent } from '../common/events';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\n\r\n\r\n@customElement('md-pagination')\r\n@inject(Element)\r\nexport class MdPagination {\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.twoWay\r\n  }) mdActivePage = 1;\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneWay\r\n  }) mdPages = 5;\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneWay\r\n  }) mdVisiblePageLinks = 15;\r\n  @bindable({\r\n    defaultBindingMode: bindingMode.oneWay\r\n  }) mdPageLinks = [];\r\n  @bindable() mdShowFirstLast = true;\r\n  @bindable() mdShowPrevNext = true;\r\n  @bindable() mdShowPageLinks = true;\r\n\r\n  // local variables to stop Changed events when parsing to int\r\n  numberOfLinks = 15;\r\n  pages = 5;\r\n\r\n  constructor(element) {\r\n    this.element = element;\r\n  }\r\n\r\n  bind() {\r\n    // attached() throws unhandled exceptions\r\n    this.pages = parseInt(this.mdPages, 10);\r\n    // We don't want mdVisiblePageLinks to be greater than mdPages\r\n    this.numberOfLinks = Math.min(parseInt(this.mdVisiblePageLinks, 10), this.pages);\r\n    this.mdShowFirstLast = getBooleanFromAttributeValue(this.mdShowFirstLast);\r\n    this.mdShowPrevNext = getBooleanFromAttributeValue(this.mdShowPrevNext);\r\n    this.mdPageLinks = this.generatePageLinks();\r\n  }\r\n\r\n  setActivePage(page) {\r\n    this.mdActivePage = parseInt(page, 10);\r\n    this.mdPageLinks = this.generatePageLinks();\r\n    fireMaterializeEvent(this.element, 'page-changed', this.mdActivePage);\r\n  }\r\n\r\n  setFirstPage() {\r\n    if (this.mdActivePage > 1) {\r\n      this.setActivePage(1);\r\n    }\r\n  }\r\n\r\n  setLastPage() {\r\n    if (this.mdActivePage < this.pages) {\r\n      this.setActivePage(this.pages);\r\n    }\r\n  }\r\n\r\n  setPreviousPage() {\r\n    if (this.mdActivePage > 1) {\r\n      this.setActivePage(this.mdActivePage - 1);\r\n    }\r\n  }\r\n\r\n  setNextPage() {\r\n    if (this.mdActivePage < this.pages) {\r\n      this.setActivePage(this.mdActivePage + 1);\r\n    }\r\n  }\r\n\r\n  mdPagesChanged() {\r\n    this.pages = parseInt(this.mdPages, 10);\r\n    this.numberOfLinks = Math.min(parseInt(this.mdVisiblePageLinks, 10), this.pages);\r\n    this.setActivePage(1);\r\n  }\r\n\r\n  mdVisiblePageLinksChanged() {\r\n    this.numberOfLinks = Math.min(parseInt(this.mdVisiblePageLinks, 10), this.pages);\r\n    this.mdPageLinks = this.generatePageLinks();\r\n  }\r\n\r\n  generatePageLinks() {\r\n    let midPoint = parseInt((this.numberOfLinks / 2), 10);\r\n    let start = Math.max(this.mdActivePage - midPoint, 0);\r\n    // respect visible links\r\n    if (start + midPoint * 2 > this.pages) start = this.pages - midPoint * 2;\r\n    let end = Math.min(start + this.numberOfLinks, this.pages);\r\n\r\n    let list = [];\r\n    for (let i = start; i < end; i++) {\r\n      list.push(i);\r\n    }\r\n\r\n    return list;\r\n  }\r\n}\r\n"]}